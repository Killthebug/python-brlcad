From 22fdba466d5d8710d00faec93c38d7d162da9f2a Mon Sep 17 00:00:00 2001
From: Jaipal Singh <jpsinghgoud@gmail.com>
Date: Fri, 20 Jul 2018 21:57:28 +0530
Subject: [PATCH 29/47] Updated Examples

---
 examples/__init__.py                 |   0
 examples/arithematic_parser.py       |   2 +-
 examples/hilbert_2d.py               |   2 +-
 examples/hilbert_3d.py               |   2 +-
 examples/new.sh                      | 128 +++++++++++++++++++++++++++++++++++
 examples/output.pix                  | Bin 0 -> 3145728 bytes
 examples/output.png                  | Bin 0 -> 14436 bytes
 examples/rounded_rcc.py              |   6 +-
 examples/rounder_cylinder_method.asc |  22 ++++++
 examples/sgi.png                     | Bin 0 -> 644665 bytes
 examples/sgi.tcl                     |  34 ++++++++++
 examples/temp.tcl                    |   4 +-
 examples/wdb_globe.py                |   2 +-
 examples/wdb_primitives.py           |   2 +-
 14 files changed, 195 insertions(+), 9 deletions(-)
 create mode 100644 examples/__init__.py
 create mode 100755 examples/new.sh
 create mode 100644 examples/output.pix
 create mode 100644 examples/output.png
 create mode 100644 examples/rounder_cylinder_method.asc
 create mode 100644 examples/sgi.png
 create mode 100644 examples/sgi.tcl

diff --git a/examples/__init__.py b/examples/__init__.py
new file mode 100644
index 0000000..e69de29
diff --git a/examples/arithematic_parser.py b/examples/arithematic_parser.py
index 9bde792..6d8fe7b 100644
--- a/examples/arithematic_parser.py
+++ b/examples/arithematic_parser.py
@@ -1,5 +1,5 @@
 from __future__ import division
-
+from arithematic_parser import *
 import os
 import sys
 import re
diff --git a/examples/hilbert_2d.py b/examples/hilbert_2d.py
index e697b3e..3b3d669 100644
--- a/examples/hilbert_2d.py
+++ b/examples/hilbert_2d.py
@@ -2,7 +2,7 @@
 Fractal pipes :-)
 """
 from brlcad.vmath import Vector
-from brlcad.wdb import WDB
+import brlcad.wdb as wdb
 import sys
 
 
diff --git a/examples/hilbert_3d.py b/examples/hilbert_3d.py
index 7159729..97fcabe 100644
--- a/examples/hilbert_3d.py
+++ b/examples/hilbert_3d.py
@@ -2,7 +2,7 @@
 3D Hilbert space filling curve with pipes.
 """
 from brlcad.vmath import Vector
-from brlcad.wdb import WDB
+import brlcad.wdb as wdb
 import sys
 
 
diff --git a/examples/new.sh b/examples/new.sh
new file mode 100755
index 0000000..0209bf6
--- /dev/null
+++ b/examples/new.sh
@@ -0,0 +1,128 @@
+#!/bin/sh
+#                          s g i . s h
+#
+# This is an example script for creating and rendering the SGI Cube
+# logo as BRL-CAD geometry.
+#
+# The SGI cube is a registered trademark of SGI.
+#
+# This script is in the public domain.
+#
+#####################################################################
+
+SGI="`basename $0`"
+rm -f $SGI.*
+
+# cube dimensions
+i=1000 ; j=800 ; radius=100
+
+# starting position
+x=0 ; y=0 ; z=0
+
+# functions to create geometry for each direction of the cube
+right ( ) {
+    old=$x
+    x=$((old + $2))
+    mged -c $SGI.g in rcc.$1 rcc $old $y $z $((x - old)) 0 0 $radius
+    mged -c $SGI.g in sph.$1 sph $x $y $z $radius
+}
+left ( ) {
+    old=$x
+    x=$((old - $2))
+    mged -c $SGI.g in rcc.$1 rcc $old $y $z $((x - old)) 0 0 $radius
+    mged -c $SGI.g in sph.$1 sph $x $y $z $radius
+}
+forward ( ) {
+    old=$y
+    y=$((old + $2))
+    mged -c $SGI.g in rcc.$1 rcc $x $old $z 0 $((y - old)) 0 $radius
+    mged -c $SGI.g in sph.$1 sph $x $y $z $radius
+}
+back ( ) {
+    old=$y
+    y=$((old - $2))
+    mged -c $SGI.g in rcc.$1 rcc $x $old $z 0 $((y - old)) 0 $radius
+    mged -c $SGI.g in sph.$1 sph $x $y $z $radius
+}
+up ( ) {
+    old=$z
+    z=$((old + $2))
+    mged -c $SGI.g in rcc.$1 rcc $x $y $old 0 0 $((z - old)) $radius
+    mged -c $SGI.g in sph.$1 sph $x $y $z $radius
+}
+down ( ) {
+    old=$z
+    z=$((old - $2))
+    mged -c $SGI.g in rcc.$1 rcc $x $y $old 0 0 $((z - old)) $radius
+    mged -c $SGI.g in sph.$1 sph $x $y $z $radius
+}
+
+###########################
+echo "Creating the cube..."
+
+forward	100 $i
+left	101 $j
+down	102 $i
+right	103 $i
+up	104 $j
+back	105 $i
+down	106 $i
+forward	107 $j
+left	108 $i
+back	109 $i
+right	110 $j
+up	111 $i
+left	112 $i
+down	113 $j
+forward	114 $i
+up	115 $i
+back	116 $j
+right	117 $i
+
+# combine all the primitives together via unions
+mged -c $SGI.g g cube.c rcc.* sph.*
+
+# create a region from that combination (make it occupy physical space)
+mged -c $SGI.g r cube.r u cube.c
+
+# assign some material properties using a cook-torrence shader
+mged -c $SGI.g mater cube.r \"cook re=.8 di=1 sp=1 ri=10\" 250 250 250 0
+
+###########################
+echo "Rendering the cube..."
+
+# pipe in mged commands for setting up and saving the view to a render script
+cat <<EOF | mged -c $SGI.g
+B cube.r
+ae 135 -35 180
+set perspective 20
+zoom .25
+saveview $SGI.rt
+EOF
+
+# render the view we saved as a 1024x1024 image
+./$SGI.rt -s1024
+
+# convert from raw pix image format to png format
+pix-png -s1024 < $SGI.rt.pix > $SGI.png
+
+# display the png image in a framebuffer window
+png-fb $SGI.png
+
+# keep the geometry database as sgi.g and the rendering as sgi.png
+mv $SGI.g sgi.g
+mv $SGI.png sgi.png
+
+# clean up after ourselves
+rm -f $SGI.*
+
+echo "The SGI cube is in the sgi.g BRL-CAD geometry database file."
+
+# Local Variables:
+# mode: sh
+# tab-width: 8
+# sh-indentation: 4
+# sh-basic-offset: 4
+# indent-tabs-mode: t
+# End:
+# ex: shiftwidth=4 tabstop=8


diff --git a/examples/rounded_rcc.py b/examples/rounded_rcc.py
index 38bf142..77c210e 100644
--- a/examples/rounded_rcc.py
+++ b/examples/rounded_rcc.py
@@ -5,7 +5,7 @@ Run : python rounded_rcc.py <<db>>.g
 import sys
 from brlcad.primitives import union
 from draw_primitive import *
-import brlcad.wdb as wdb
+import brlcad.geometry as geometry
 
 def sanity_check(c_radius, c_length, rounding_radius):
     if rounding_radius > c_radius/2:
@@ -39,5 +39,5 @@ if __name__ == "__main__":
     argv = sys.argv
     union_list = []
     database_name = argv[1]
-    brl_db = wdb.WDB(database_name, "fml.g")
-    rounder_rcc(40, 100, 21)
\ No newline at end of file
+    brl_db = geometry.Database(database_name, "fml.g")
+    rounder_rcc(40, 100, 19)
\ No newline at end of file
diff --git a/examples/rounder_cylinder_method.asc b/examples/rounder_cylinder_method.asc
new file mode 100644
index 0000000..52fdb67
--- /dev/null
+++ b/examples/rounder_cylinder_method.asc
@@ -0,0 +1,22 @@
+put {cylinder.rcc} tgc V {0 0 -500}  H {0 0 1000}  A {250 0 0}  B {0 250 0}  C {250 0 0}  D {0 250 0} 
+
+put {fillends.rcc} tgc V {0 0 -550}  H {0 0 1100}  A {0 -200 0}  B {200 0 0}  C {0 -200 0}  D {200 0 0} 
+	
+put {bottom.tor} tor V {0 0 -500}  H {0 0 -1}  r_a 200 r_h 50
+
+put {top.tor} tor V {0 0 500}  H {0 0 1}  r_a 200 r_h 50
+
+
+put {method1} comb region no 
+tree
+{u 
+	{u 
+		{l cylinder.rcc} 
+		{l fillends.rcc}
+	} 
+
+	{u 
+		{l top.tor} 
+		{l bottom.tor}
+	}
+}
\ No newline at end of file
diff --git a/examples/sgi.tcl b/examples/sgi.tcl
new file mode 100644
index 0000000..74064f8
--- /dev/null
+++ b/examples/sgi.tcl
@@ -0,0 +1,34 @@
+title db.g
+units mm
+set i 1
+set j 5
+set radius 100
+set x 0
+set y 0
+set z 0
+
+proc right {a b} {
+	set old $x
+	set x [expr {$old + $b}]
+	in rcc.$a rcc $old $y $z [exp{$x - $old}] 0 0 $radius
+	in sph.$a sph $x $y $z $radius
+}
+
+proc left {a b c d} 
+{
+	set old $x
+	set x [expr {$old + $b}]
+	in rcc.$a rcc $old $y $z [exp{$x - $old}] 0 0 $radius
+	in sph.$a sph $x $y $z $radius
+}
+
+proc top {a b} {
+	set old $x
+	set x [expr {$old + $b}]
+	in rcc.$a rcc $old $y $z [exp{$x - $old}] 0 0 $radius
+	in sph.$a sph $x $y $z $radius
+}
+
+top i 100
+right j 10
+left i j x 1000
diff --git a/examples/temp.tcl b/examples/temp.tcl
index 0760730..c11a6d2 100644
--- a/examples/temp.tcl
+++ b/examples/temp.tcl
@@ -1,3 +1,5 @@
 title db.g
 units mm
-in planes.s arbn 0 0 -1 -8 0 0 1 9 -1 0 0 0.5 1 0 0 0.5 0 -1 0 0.5 0 1 0 0.5
\ No newline at end of file
+set i 1
+set j 5
+in ball.s sph $i 2 $j [exp{$j - $i}] [exp{$i - $j}]
\ No newline at end of file
diff --git a/examples/wdb_globe.py b/examples/wdb_globe.py
index add4bb3..8d49867 100644
--- a/examples/wdb_globe.py
+++ b/examples/wdb_globe.py
@@ -15,7 +15,7 @@ python attribution:
 """
 
 import argparse
-from brlcad.wdb import WDB
+import brlcad.wdb as wdb
 from brlcad.primitives import subtract, union
 
 
diff --git a/examples/wdb_primitives.py b/examples/wdb_primitives.py
index da83f5d..8d2f91f 100644
--- a/examples/wdb_primitives.py
+++ b/examples/wdb_primitives.py
@@ -1,5 +1,5 @@
 from brlcad.vmath import Transform
-from brlcad.wdb import WDB
+import brlcad.wdb as wdb
 from brlcad import primitives
 
 if __name__ == "__main__":
-- 
2.14.3 (Apple Git-98)

